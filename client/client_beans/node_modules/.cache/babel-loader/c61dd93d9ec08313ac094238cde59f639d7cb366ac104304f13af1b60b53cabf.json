{"ast":null,"code":"const API_BASE_URL = 'http://localhost:3001/api';\n\n// Helper function to get auth token from localStorage\nconst getAuthToken = () => localStorage.getItem('authToken');\n\n// Helper function for API calls\nasync function apiCall(endpoint, options = {}) {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const token = getAuthToken();\n  const headers = {\n    'Content-Type': 'application/json',\n    ...options.headers\n  };\n\n  // Add authorization header if token exists\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  const config = {\n    headers,\n    ...options\n  };\n  try {\n    const response = await fetch(url, config);\n    if (!response.ok) {\n      throw new Error(`API call failed: ${response.status} ${response.statusText}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('API call error:', error);\n    throw error;\n  }\n}\n\n// Authentication API functions\nexport const register = async userData => {\n  const response = await apiCall('/auth/register', {\n    method: 'POST',\n    body: JSON.stringify(userData)\n  });\n\n  // Store token if registration successful\n  if (response.token) {\n    localStorage.setItem('authToken', response.token);\n  }\n  return response;\n};\nexport const login = async credentials => {\n  const response = await apiCall('/auth/login', {\n    method: 'POST',\n    body: JSON.stringify(credentials)\n  });\n\n  // Store token if login successful\n  if (response.token) {\n    localStorage.setItem('authToken', response.token);\n  }\n  return response;\n};\nexport const logout = async () => {\n  const response = await apiCall('/auth/logout', {\n    method: 'POST'\n  });\n\n  // Remove token from localStorage\n  localStorage.removeItem('authToken');\n  return response;\n};\nexport const getProfile = () => apiCall('/auth/profile');\n\n// API functions\nexport const getAllBeans = () => apiCall('/beans');\nexport const getBeansOfTheDay = () => apiCall('/beans/botd');\nexport const searchBeans = query => apiCall(`/beans/search?q=${encodeURIComponent(query)}`);\nexport const getBeanById = id => apiCall(`/beans/${id}`);\nexport const addBean = beanData => apiCall('/beans', {\n  method: 'POST',\n  body: JSON.stringify(beanData)\n});\nexport const updateBean = (id, beanData) => apiCall(`/beans/${id}`, {\n  method: 'PUT',\n  body: JSON.stringify(beanData)\n});\nexport const deleteBean = id => apiCall(`/beans/${id}`, {\n  method: 'DELETE'\n});\nexport const healthCheck = () => apiCall('/health');","map":{"version":3,"names":["API_BASE_URL","getAuthToken","localStorage","getItem","apiCall","endpoint","options","url","token","headers","config","response","fetch","ok","Error","status","statusText","json","error","console","register","userData","method","body","JSON","stringify","setItem","login","credentials","logout","removeItem","getProfile","getAllBeans","getBeansOfTheDay","searchBeans","query","encodeURIComponent","getBeanById","id","addBean","beanData","updateBean","deleteBean","healthCheck"],"sources":["M:/flodev/coffeebeans_test/client/client_beans/src/services/apiService.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:3001/api';\r\n\r\n// Helper function to get auth token from localStorage\r\nconst getAuthToken = () => localStorage.getItem('authToken');\r\n\r\n// Helper function for API calls\r\nasync function apiCall(endpoint, options = {}) {\r\n  const url = `${API_BASE_URL}${endpoint}`;\r\n\r\n  const token = getAuthToken();\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    ...options.headers,\r\n  };\r\n\r\n  // Add authorization header if token exists\r\n  if (token) {\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n  }\r\n\r\n  const config = {\r\n    headers,\r\n    ...options,\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, config);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`API call failed: ${response.status} ${response.statusText}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('API call error:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Authentication API functions\r\nexport const register = async (userData) => {\r\n  const response = await apiCall('/auth/register', {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n  });\r\n\r\n  // Store token if registration successful\r\n  if (response.token) {\r\n    localStorage.setItem('authToken', response.token);\r\n  }\r\n\r\n  return response;\r\n};\r\n\r\nexport const login = async (credentials) => {\r\n  const response = await apiCall('/auth/login', {\r\n    method: 'POST',\r\n    body: JSON.stringify(credentials),\r\n  });\r\n\r\n  // Store token if login successful\r\n  if (response.token) {\r\n    localStorage.setItem('authToken', response.token);\r\n  }\r\n\r\n  return response;\r\n};\r\n\r\nexport const logout = async () => {\r\n  const response = await apiCall('/auth/logout', {\r\n    method: 'POST',\r\n  });\r\n\r\n  // Remove token from localStorage\r\n  localStorage.removeItem('authToken');\r\n\r\n  return response;\r\n};\r\n\r\nexport const getProfile = () => apiCall('/auth/profile');\r\n\r\n// API functions\r\nexport const getAllBeans = () => apiCall('/beans');\r\n\r\nexport const getBeansOfTheDay = () => apiCall('/beans/botd');\r\n\r\nexport const searchBeans = (query) => apiCall(`/beans/search?q=${encodeURIComponent(query)}`);\r\n\r\nexport const getBeanById = (id) => apiCall(`/beans/${id}`);\r\n\r\nexport const addBean = (beanData) => apiCall('/beans', {\r\n  method: 'POST',\r\n  body: JSON.stringify(beanData),\r\n});\r\n\r\nexport const updateBean = (id, beanData) => apiCall(`/beans/${id}`, {\r\n  method: 'PUT',\r\n  body: JSON.stringify(beanData),\r\n});\r\n\r\nexport const deleteBean = (id) => apiCall(`/beans/${id}`, {\r\n  method: 'DELETE',\r\n});\r\n\r\nexport const healthCheck = () => apiCall('/health');"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}